{"id":"X//J","dependencies":[{"name":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/tsconfig.json","includedInParent":true,"mtime":1560350281557},{"name":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/package.json","includedInParent":true,"mtime":1558523328272},{"name":"../objects/player","loc":{"line":3,"column":25},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/src/scenes/game-scene.ts","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/src/objects/player.ts"},{"name":"../objects/platform","loc":{"line":4,"column":27},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/src/scenes/game-scene.ts","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/src/objects/platform.ts"},{"name":"../objects/enemy","loc":{"line":6,"column":24},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/src/scenes/game-scene.ts","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/src/objects/enemy.ts"},{"name":"../objects/ground","loc":{"line":7,"column":25},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/src/scenes/game-scene.ts","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/src/objects/ground.ts"},{"name":"../objects/heart","loc":{"line":8,"column":24},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/src/scenes/game-scene.ts","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/src/objects/heart.ts"},{"name":"../objects/hammer","loc":{"line":9,"column":25},"parent":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/src/scenes/game-scene.ts","resolved":"/Users/jaron/Documents/School/Jaar 1/CLE 4/TonkGame/TONK.github.io/src/objects/hammer.ts"}],"generated":{"js":"\"use strict\";function e(t){return(e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function s(t,i){return!i||\"object\"!==e(i)&&\"function\"!=typeof i?n(t):i}function n(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,\"__esModule\",{value:!0});var l=require(\"../objects/player\"),u=require(\"../objects/platform\"),c=require(\"../objects/enemy\"),d=require(\"../objects/ground\"),m=require(\"../objects/heart\"),p=require(\"../objects/hammer\"),y=function(e){function i(){var e;return t(this,i),e=s(this,o(i).call(this,{key:\"GameScene\"})),document.addEventListener(\"joystick0button8\",function(){return e.leave()}),document.addEventListener(\"joystick0button9\",function(){return e.leave()}),e}return a(i,Phaser.Scene),r(i,[{key:\"leave\",value:function(){window.location.href=\"http://hr-cmgt.github.io/arcade-server\"}},{key:\"preload\",value:function(){this.load.json(\"levels\",\"assets/levels.json\")}},{key:\"init\",value:function(){this.physics.world.bounds.width=5760,this.physics.world.bounds.height=900}},{key:\"create\",value:function(){var e=this;this.jumpListener=function(){return e.jump()},document.addEventListener(\"joystick0button0\",this.jumpListener),this.attackListener=function(){return e.attack()},document.addEventListener(\"joystick0button2\",this.attackListener);for(var t=0;t<this.physics.world.bounds.width;t+=3420){this.physics.world.bounds.width[t];this.add.image(t,0,\"background\").setOrigin(0,0)}this.stars=this.physics.add.group({}),this.player=new l.Player(this),this.loadPlatforms(),this.hammer=new p.Hammer(this,this.player,\"hammerup\"),this.ground=this.add.group({runChildUpdate:!0}),this.enemies=this.add.group({runChildUpdate:!0}),this.enemies.add(new c.Enemy(this,1e3,200,\"alien_hat\")),this.enemies.add(new c.Enemy(this,4e3,200,\"alien_hat\")),this.enemies.add(new c.Enemy(this,2500,200,\"alien_hat\")),this.enemies.add(new c.Enemy(this,2e3,200,\"alien_hat\")),this.enemies.add(new c.Enemy(this,1800,200,\"alien_hat\")),this.enemies.add(new c.Enemy(this,3300,200,\"alien_hat\")),this.enemies.add(new c.Enemy(this,3e3,200,\"alien_hat\"));for(var i=0;i<this.physics.world.bounds.width;i+=1400){this.physics.world.bounds.width[i];var r=i+800;this.ground.addMultiple([new d.Grounds(this,r,859,\"ground\")],!0)}this.physics.add.collider(this.player,this.ground),this.physics.add.collider(this.player,this.platforms),this.physics.add.collider(this.enemies,this.ground),this.physics.add.collider(this.enemies,this.platforms,this.onBouncePlatform),this.physics.add.collider(this.player,this.enemies,this.colliderer),this.physics.add.overlap(this.hammer,this.enemies,function(t,i){return e.hammerColliderer(t,i)}),this.cameras.main.setSize(1440,900),this.cameras.main.setBounds(0,0,5760,900),this.cameras.main.startFollow(this.player),this.heartOne=new m.Heart(this,this.player,-30,\"heart\"),this.heartTwo=new m.Heart(this,this.player,0,\"heart\"),this.heartThree=new m.Heart(this,this.player,30,\"heart\"),this.Hit=!1}},{key:\"jump\",value:function(){console.log(\"Jump\"),this.player.jump()}},{key:\"enableHammer\",value:function(){this.hammer.setTexture(\"hammerup\"),this.Hit=!1,this.hammer.notHit(),console.log(\"Kan weer slaan\")}},{key:\"attack\",value:function(){var e=this;this.Hit||(console.log(\"Attack\"),this.hammer.setTexture(\"hammerdown\"),this.Hit=!0,this.hammer.Hit(),console.log(\"kan niet slaan\"),this.time.delayedCall(100,function(){return e.enableHammer()},[],this))}},{key:\"onBouncePlatform\",value:function(e,t){(t.body.touching.left||t.body.touching.right)&&e.onCollision()}},{key:\"loadPlatforms\",value:function(){var e=this.cache.json.get(\"levels\");this.platforms=this.add.group({runChildUpdate:!0});for(var t=0;t<14;t++){console.log(e.level1.platforms[t].x),this.platforms.addMultiple([new u.Platform(this,e.level1.platforms[t].x,e.level1.platforms[t].y,e.level1.platforms[t].texture)],!0)}}},{key:\"gameOver\",value:function(){this.scene.start(\"StartScene\")}},{key:\"colliderer\",value:function(e,t){e.x=70,console.log(\"Geraakt\"),e.health-=1}},{key:\"hammerColliderer\",value:function(e,t){console.log(\"can hit? \"+this.Hit),this.Hit&&(console.log(\"Dit werkt\"),t.destroy())}},{key:\"update\",value:function(){this.player.update(),this.hammer.update(),this.hammer.cursors.down.isDown&&this.attack();var e=!0,t=!1,i=void 0;try{for(var r,s=this.game.Arcade.Joysticks[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var n=r.value;n.update(),this.player.setVelocityX(400*n.X)}}catch(o){t=!0,i=o}finally{try{e||null==s.return||s.return()}finally{if(t)throw i}}this.heartOne.update(),this.heartTwo.update(),this.heartThree.update(),2==this.player.health?this.heartThree.setVisible(!1):1==this.player.health?this.heartTwo.setVisible(!1):0==this.player.health&&(console.log(\"Game over\"),this.heartOne.setVisible(!1),this.gameOver())}}]),i}();exports.GameScene=y;"},"sourceMaps":null,"error":null,"hash":"7704defb4997c89ba0bbeaa0087949e8","cacheData":{"env":{}}}